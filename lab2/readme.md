# Лабораторная работа №2

## Задание
Реализация ПФЭ на имитационной модели функционирования СМО.
Составить матрицу планирования для проведения ПФЭ для одноканальной СМО с одним генератором заявок.

Интервалы варьирования факторов выбрать на основе результатов первой л.р., в рамках которой исследовались зависимости выходной величины (среднего времени ожидания (пребывания) от входных параметров (интенсивность поступления, интенсивность обслуживания).  

В итоге получить зависимость выходной величины от загрузки.
По результатам ПФЭ вычислить коэффициенты линейной и частично нелинейной регрессионной зависимости.

Предусмотреть возможность сравнения рассчитанной величины с реальной, полученной по результатам имитационного моделирования.

## Вопросы

информационная 33 = (план 34)^T(план 43) является диагональной с одинаковыми элементами на главной диагонали, равными n=2^2=4

корреляционная = информационная^-1  также будет диагональной и с одинаковыми элементами главной диагонали n^-1


### Главное
* **Что проводим, какой эксперимент?** ПФЭ (Полный фактроный эксперимент)

* **Что такое ПФЭ?**  
Эксперимент, в котором реализуются все возможные сочетания уровней факторов.

* **Как обозначается?** n = 2^m  
  Где 2 - количество уровней факторов (Минимальный(-1) и Максимальный(+1) уровни)  
  m - количество факторов,  
  n - общее число опытов.

* **Какую модель строим?** Линейную   
 ?? Для построения линейной модели достаточно варьировать каждый фактор на двух уровнях

* **Уравнение для линейной модели (для 3 факторов)**  
  y = b0*x0 + b1*x1 + b2*x2 + b3*x3

* **Уравнение для частично-нелинейной модели (для 3 факторов)**  
  y = b0*x0 + b1x1 + b2*x2 + b3*x3 + b12*x1*x2 + b13*x1*x3 + b23*x2*x3 + b123*x1*x2*x3

* **Сколько нужно опытов для определения коэффициентов линейной модели?**  

  число факторов k => коэффициентов k + 1 => k + 1) ПФП избыточен

  если гиперболоид, который содержит 2^k коэффициентов => 2^k ПФП не избыточен

* **Для чего можно использовать остальные 4 опыта?**
	* Построить гиперплоскость по четырем экспериментам, а остальные четыре
опыта использовать для оценки погрешности.
  * Провести эксперимент, состоящий из 4-х опытов, то есть реализовать экономный план эксперимента. (дробным факторным планом (ДФП) с шагом p: n=2^(k-p))

* **Что характеризуют коэффициенты, допустим, a12?**  
  взаимодействие факторов x1 и x2
  
  Коэффициент при независимых переменных xi указывает на силу влияния факторов: чем больше значение имеет коэффициент ai , тем большее влияние оказывает соответствующий фактор. В этом
  смысле результаты планирования эксперимента аналогичны факторному анализу.
  Для пассивных экспериментов факторный анализ может использоваться в качестве
  априорных данных при планировании.

### Активный vs пассивный
* **Какой в этой лабораторной эксперимент?** Активный

* **А в первой ЛР?** Пассивный

* **Какой лучше: активный или пассивный?** активный (причины см. в ответах по первой лабе)

* **Почему? Чем отличаются?**   
  В пассивном изменяли 1 фактор, тут все 3(4)

  **разница**

  При пассивном эксперименте ставится большая серия опытов с поочередным(!) варьированием каждой из переменных.

  Активный эксперимент ставится по заранее составленному плану (планирование эксперимента), при этом предусматривается одновременное изменение всех параметров, влияющих на процесс, что позволяет сразу установить силу взаимодействия параметров и поэтому сократить общее число опытов.

  *- еще Активный эксперимент проводится по заранее составленному плану, в соответствии 
  с которым ставится задача не только определения размера оптимальных условий 
  проведения эксперимента, но и оптимизации процесса (оптимальное планирование 
  эксперимента).

  *- smth. В том и другом случае обработка опытных данных ведется методами корреляционного и регрессионного анализа. Сюда относится также сбор исходного статистического материала в режиме нормальной эксплуатации промышленного -объекта.


* Какие преимущества у активного эксперимента? 
  
  *-возможность предсказания количества опытов, которые следуют провести

  *- определение точек факторного пространства, где следует проводить опыты

  *- отсутствие проблем, связанных с выбором вида уравнения регрессии;

  *- возможность определения оптимальных параметров процесса экспериментально-статистическим методом;

  *- сокращение объема опытных исследований.

* **Преимущества линейной модели?**
Скорость и простота, как в построении так и при анализе


### TODO:
первая лр совсем бесполезная?
нет, увидели форму зависимости, и при каких значениях стационарный режим работы


(у меня ещё были критерий Кохрена (однородность), дисперсия воспроизводимости и критерий Фишера (адекватность)по ним спрашивал, что такое, как считаются, раз я сделал)
МОЖЕТ ПОПРОСИТЬ ВЫВЕСТИ КРИТЕРИИ


какое значение будет в нуле факторного пространства?
значение, равное свободному члену (коэффициент a0)

TODO Какая у нас матрица? 
??? (матрица коэффициентов регрессии/корреляционная?) - Диагональная 

матрица планирования - ортогональная, ну и свойства

какие свойства матрицы планирования?

Первые два свойства относятся к построению отдельных столбцов матрицы.

1. симметричность матрицы относительно центра эксперимента xi=0: 
   
   фиксируем j, сумма по (i=1N)xij = 0
   
   (то есть сумма в столбце = 0 (кроме первого, точнее, нулевого)

2. условие нормировки,
   
   фиксируем j, сумма по (i=1N)(xij)^2 = N
   
   (то есть сумма квадратов элементов в столбце равна числу опытов).

3. Свойство ортогональности 
   
   фиксируем j и n (j!=n), сумма по (i=1N)(xij)*(xin) = 0
   
   (скалярное произведение двух любых столбцов матрицы равно нулю):

   Ортогональность является одним из наиболее важных свойств матрицы. Ортогональность матрицы позволяет оценить все коэффициенты уравнения регрессии независимо друг от друга, т. е. величина любого коэффициента не зависит от того, какие величины имеют другие коэффициенты. Если тот или иной коэффициент регрессии окажется незначимым, то его можно не учитывать, не пересчитывая остальных.

   Ортогональные планы экспериментов, используемые при активном экспериментировании, обеспечивают диагональный вид корреляционной матрицы C при
   регрессионном анализе и, соответственно, статистическую независимость коэффициентов регрессии.

4. Ротатабельность. Это означает, что точки (значения факторов) в матрице планирования подбираются так, что точность предсказания выходного параметра должна быть одинакова на равных расстояниях от центра эксперимента (нулевого уровня) и не зависеть от направления



что такое х0?

Чтобы коэффициент модели вычислялся по единой формуле (7 - МНК: aj = сумма(i=1N) (xij * yi)) / N (2 столбца перемножить скалярно и разделить на N) в матрице планирования вводят фиктивную переменную x0 , которая принимает значение 1 во всех
опытах и соответствует коэффициенту a0

х0 — фиктивный фактор, соответствующий постоянной составляющей b0 уравнения объекта

что такое центр плана?
Точка в факторном пространстве, соответствующая нулевым уровням всех факторов,

Как коэффициенты вычисляются?
(7 - МНК: aj = сумма(i=1N) (xij * yi)) / N (2 столбца перемножить скалярно и разделить на N) 

==сумма попарных произведений значений соответствующего х и у, деленная на количество опытов

(пишет на листочке какую-то систему уравнений и улыбаеца) а тут
мы можем так считать коэффициенты??? а почему тут нет, а в лабе
можем? потому что ортогональность


почему 16 опытов и сколько нужно для вычисления линейной модели?
n=2^k, k - количество факторов (у меня 3). Для линейной = k + 1 (4), для частично нелинейной 2^k 8



Какая математика лежит в основе планирования эксперимента?
(теория вероятности и математическая статистика?????????? но это не точно)(Как-то на лекции он говорил, что мат аппарат в планировании - это метод наименьших квадратов)


Что дает ортогональность?
Диагональную матрицу корреляции. (скорее независимость вычисления
коэффициентов)

Свойство ортогональности 
   
   фиксируем j и n (j!=n), сумма по (i=1N)(xij)*(xin) = 0
   
   (сумма построчных произведений элементов любых двух столбцов равно нулю):

   Ортогональность является одним из наиболее важных свойств матрицы. Ортогональность матрицы позволяет оценить все коэффициенты уравнения регрессии независимо друг от друга, т. е. величина любого коэффициента не зависит от того, какие величины имеют другие коэффициенты. Если тот или иной коэффициент регрессии окажется незначимым, то его можно не учитывать, не пересчитывая остальных.


Что дает диагональность (видимо корреляционной матрицы)?
Она позволяет разбить систему уравнений на n независимых уравнений, что позволяет легко вычислить коэффициенты.

TODO Как это (видимо ортогональность) влияет на точность?
Точность повышается.  Но вот почему неизвестно, а ему нужен ответ!

Точность повышается. Так как корреляционная матрица C в этом случае является
диагональной, то коэффициенты регрессии статистически независимы, то есть их
ковариации в матрице корреляции равны 0. На диагонали стоят дисперсии

Как с помощью проверочной точки (0, 0, 0) можно убедиться в правильности эксперимента?
(а вот тут ребусы от Курова)
Ответ, похожий на правду: 
- Что такое коэффициент x0?
Он отвечает за свободный член уравнения, если ты задашь нулевую точку в факторном пространстве (0, 0, 0) для 3 параметров, то ты должна получить результаты линейной и частично нелинейной равной значению аргумента х0
(а еще нужно сказать что-то про гиперплоскость)
Ответ Курова: когда гиперплоскость и поверхность соприкасаются, точки получаются равноудаленными, поэтому значения и совпадают

Равноудаленность: мы усредняли все получившиеся значения (это у нас свободный член)

В теории активного экспериментирования выходную (зависимую) переменную принято называть функцией отклика, а входные (независимые) переменные факторами. Соответственно - координатное пространство с координатами (x1, x2,…xm) - факторным пространством, а геометрическое изображение функции отклика в факторном пространстве – поверхностью отклика.

Есть ли план 3^4? Есть, но тогда модель у нас нелинейная. Для линейной модели достаточно 2 уровня фактора. 

(с учетом нулевого столбца у нас 4 на 3)
(какая поверхность? Я думаю о ФП, но тут пишут о поверхности отклика)




какую форму принимает поверхность? (речь про линейное уравнение)
 гиперплоскость (так как у всех факторов степень = 1)

- сколько точек нужно чтобы построить линию? две)


## из файла

- преимущества линейной модели?
Скорость и простота, как в построении так и при анализе
  


